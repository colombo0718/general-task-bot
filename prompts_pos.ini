[extractors]
identify_needs =
    嚴格限制：只輸出最終答案，不得輸出任何解釋、前綴或後綴。
    嚴禁輸出方括號[]、引號、標點符號、空白或換行。
    只允許以下八選一（區分大小寫）：
    generateQuote / queryPoints / adjustPoints / querySmsPoints / adjustSmsPoints / queryCredentials / companyName / RegionCustomers / null
    【輸出格式（必須完全匹配其一）】^(?:generateQuote|queryPoints|adjustPoints|querySmsPoints|adjustSmsPoints|queryCredentials|companyName|RegionCustomers|null)$

    任務：判斷用戶需求
    1) 若訊息只有提到「報價單」或「請款單」或「帳單」，並指明公司名稱，但除此之外沒有其他資訊 → generateQuote
    2) 若明確要求報價/估價/出單（含「報價單/請款單/帳單」），並且還提供其他條件（如月數、價格、稅別等）→ generateQuote
    3) 若詢問某公司的「點數」、「幾點」→ queryPoints
    4) 若詢問某公司的「簡訊點數」、「簡訊餘額」、「SMS 點數」→ querySmsPoints
    5) 若訊息包含「加 n 點」、「減 n 點」、「多 n 點」、「少 n 點」，且提及公司名稱 → adjustPoints
    6) 若訊息包含「加 n 元」、「減 n 元」、「多 n 元」、「少 n 元」、「加簡訊 n 元」、「加簡訊點數 n 元」等，且提及公司名稱 → adjustSmsPoints
    7) 若詢問某公司的「帳號、密碼」或「帳密」→ queryCredentials
    8) 若詢問「X 的公司名稱 / 公司名 / 公司的名字 / 公司叫什麼」→ companyName
    9) 若詢問「某地區有哪些客戶」、「台中的客戶有哪些」、「高雄有哪些公司」等 → RegionCustomers
    10) 若詢問「X 的在途庫存功能有沒有開 / 有沒有啟用 / 狀態如何」→ getIntransit
    11) 若要求「幫我把 X 的在途庫存 打開/關閉/設成 1/0」等 → setIntransit
    12) 皆非或無法判斷 → null

identify_name =
    嚴格限制：只輸出最終答案，不得輸出任何解釋、前綴或後綴。
    嚴禁輸出方括號[]、引號、標點符號、空白或換行。
    【輸出格式】^(?:[\u4e00-\u9fffA-Za-z0-9]{2,7})$

    任務：擷取最像「客戶名稱」的單一詞（2~7字），以兩個字居多
        會這樣問就代表一定有，必須要從訊息中提取出名稱
    規則：
    - 優先取出現在「報價單/估價單/請款單/帳單/報價/估價」之前且最近的名詞片段
    - 排除功能詞與雜訊（如：幫我、請、開、做、出、一下、的、給、和、跟、我們、他們）
    - 排除功能詞與雜訊（如：公司、點數、幾點、帳密、帳號）
    - 關鍵字本身（報價單、請款單、帳單等）不是名稱的一部分

include_tax =
    嚴格限制：只輸出最終答案，不得輸出任何解釋、前綴或後綴。
    嚴禁輸出方括號[]、引號、標點符號、空白或換行。
    只允許：Y / N / null
    【輸出格式】^(?:Y|N|null)$

    任務：判斷報價是否含5%營業稅
    - 出現：含稅/稅內/含5%/含稅價/含稅金額/含稅報價 → Y
    - 出現：未稅/不含稅/稅外/外加5%/另加5%/未稅價/淨價 → N
    - 同時出現矛盾時，以「外加/另加/不含」類優先 → N
    - 未提及 → null

get_charge_months =
    嚴格限制：只輸出最終答案，不得輸出任何解釋、前綴或後綴。
    嚴禁輸出方括號[]、引號、單位詞、標點符號、空白或換行。
    找不到則輸出：null
    【輸出格式】^(?:[1-9][0-9]*|null)$

    任務：擷取「收費的月份數（持續期數）」並換算為阿拉伯整數
    規則：
    - 觸發：x個月 / x月 / 收x期 / x季 / x年；半年=6、全年/一年/一年份=12
    - 換算：1期=1月；1季=3月；1年=12月；中文數字需轉阿拉伯
    - 嚴格排除「月份-of-year」（如：7月/July）——那屬於起算月份，不計入此欄
    - 多個候選時，取與「收/收費/續/期/費/計/算/開單」語意最近者
    - 無法判斷 → null

get_start_month =
    嚴格限制：只輸出最終答案，不得輸出任何解釋、前綴或後綴。
    嚴禁輸出方括號[]、引號、漢字「月」字、任何單位詞、標點符號、空白或換行。
    找不到則輸出：null
    只允許：1~12 的整數（不補零），或 null
    【輸出格式】^(?:[1-9]|1[0-2]|null)$

    任務：擷取「起算月份（月份-of-year）」的月份數字（1~12），不含年份。
    規則：
    - 句中若出現年份（西元/民國），一律忽略年份，只決定月份；無法唯一判斷則輸出 null。
    - 月份線索：數字+「月/月份」（例：7月/七月份）、中文數字（七月→7）、英文月份（Jan..Dec → 1..12）、季別（Q1→1、Q2→4、Q3→7、Q4→10）。
    - 起算語意就近：與「從/自/起/開始/起算/由…起/自…起」最近者優先。
    - 嚴格排除「持續單位」：數字後接「個月/期/季/年/半年/一年份」者不視為起算月份。
    - 若同句多候選，選擇與起算詞最近且不含持續單位者；仍模糊則輸出 null。

get_delta_point =
    嚴格限制：只輸出最終答案，不得有多餘字元、前後綴或自然語言。
    只允許輸出整數（可為正數或負數），或 0。
    【輸出格式】^-?\d+$

    任務：從訊息中擷取使用者想要加減的點數。
    規則：
    - 若訊息明確表示「加 X 點」、「多 X 點」→ 輸出正整數 X。
    - 若訊息明確表示「減 X 點」、「扣 X 點」、「少 X 點」→ 輸出負整數 -X。
    - 若訊息中沒有清楚的加減點數 → 輸出 0。

get_delta_amount =
    嚴格限制：只輸出最終答案，不得有多餘字元、前後綴或自然語言。
    只允許輸出整數（可為正數或負數），或 0。
    【輸出格式】^-?\d+$

    任務：從訊息中擷取使用者想要加減的「點數」或「金額」。
    規則：
    - 若訊息明確表示「加 X 點」、「加 X 元」、「多 X 點」、「多 X 元」→ 輸出正整數 X。
    - 若訊息明確表示「減 X 點」、「減 X 元」、「扣 X 點」、「扣 X 元」、「少 X 點」、「少 X 元」→ 輸出負整數 -X。
    - 若訊息中僅有數字但未說明加減方向，預設視為正數。
    - 若訊息中沒有明確數字或加減語意 → 輸出 0。

get_region =
    嚴格限制：只輸出最終答案，不得輸出任何解釋、標點或空白。
    僅輸出對應「台灣市話區碼（去掉開頭的 0）」的數字字串。
    市話區碼對照表：
    台北=2；桃園=3；新竹=3；宜蘭=3；苗栗=37；
    台中=4；彰化=4；南投=49；
    雲林=5；嘉義=5；台南=6；
    高雄=7；屏東=8；
    台東=89；金門=82；澎湖=6。
    若未出現地區詞或無法判斷 → 0。

get_boolean_switch =
    嚴格限制：只輸出最終答案，不得輸出任何解釋、標點符號、空白或自然語言。
    僅允許輸出 0 或 1。
    【輸出格式】^(?:0|1)$

    任務：從使用者訊息中判斷是否表示「開啟」或「關閉」某項功能。
    規則：
    - 若訊息包含以下任一關鍵字 → 視為開啟（輸出 1）：
        開、開啟、打開、啟動、啟用、開起、開放、打開功能、turn on、enable、on、開始使用、開在途、開通知
    - 若訊息包含以下任一關鍵字 → 視為關閉（輸出 0）：
        關、關閉、關掉、停用、停掉、禁用、disable、turn off、off、取消、停、結束使用、關功能、關在途、關通知
    - 若同時出現開與關的詞語（矛盾），以「關閉」為主（輸出 0）。
    - 若訊息中沒有出現任何可判斷的關鍵字 → 預設輸出 0。